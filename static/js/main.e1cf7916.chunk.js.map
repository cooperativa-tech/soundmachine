{"version":3,"sources":["state.js","components/Keys.js","db.js","ipfs.js","pages/index.js","components/Jorge.js","components/face.png","components/mouth.png","components/KeyboardNameInput.js","test.worker.js","serviceWorker.js","index.js"],"names":["audioContext","AudioContext","analyser","createScriptProcessor","connect","destination","state","sourceNode","mediaRecorder","recording","chunks","pressedKeys","lastRecordingURL","lastRecordingBlob","sharingFocused","mouthPosition","Key","_ref","leftMargin","selected","hasRecording","isRecording","props","Object","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_emotion_core__WEBPACK_IMPORTED_MODULE_1__","assign","css","width","height","display","alignItems","justifyContent","background","boxShadow","boxSizing","borderRadius","color","marginLeft","position","textTransform","keycode","Row","children","db","__webpack_require__","Dexie","version","stores","keys","keyboards","workerReady","worker","MyWorker","addEventListener","data","message","once","share","_ref2","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","Promise","resolve","setTimeout","check","console","log","postMessage","abrupt","reject","_ref3","hash","stop","apply","this","arguments","download","_ref4","_callee2","_context2","_ref5","_x","FIRST_ROW","SECOND_ROW","THIRD_ROW","ALL_KEYS","concat","hashInQueryParams","obj","match","result","re","RegExp","exec","document","location","search","push","querystring","Share","_useState","useState","name","_useState2","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_9__","setState","useEffect","put","_emotion_core__WEBPACK_IMPORTED_MODULE_12__","reactjs_popup__WEBPACK_IMPORTED_MODULE_13__","trigger","backgroundColor","fontSize","padding","marginRight","modal","onOpen","globalState","then","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default","_objectSpread","onClose","contentStyle","react__WEBPACK_IMPORTED_MODULE_11___default","Fragment","href","window","_components_KeyboardNameInput__WEBPACK_IMPORTED_MODULE_16__","onComplete","Download","_useState3","_useState4","loading","setLoading","handleDownload","origin","open","marginBottom","onClick","Keyboards","_useState5","_useState6","setKeyboards","load","_callee3","_context3","toArray","sent","length","map","key","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","ondataavailable","e","onstop","blob","Blob","type","URL","createObjectURL","catch","err","error","Player","_this","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","downHandler","lowerKey","_","toLower","includes","reduce","memo","value","tKey","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__","playClip","start","upHandler","_ref6","warn","setImmediate","saveClip","loadSound","url","request","XMLHttpRequest","responseType","onload","response","send","_ref7","_callee4","_context4","recordings","_x2","_ref8","_callee5","_context5","disconnect","createBufferSource","decodeAudioData","buffer","loop","_x3","_context6","t0","removeEventListener","React","Component","__webpack_exports__","_ref9","styles","_templateObject","style","flexDirection","_components_Keys__WEBPACK_IMPORTED_MODULE_14__","index","marginTop","left","transform","_components_Jorge__WEBPACK_IMPORTED_MODULE_15__","Jorge","_React$Component","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","ref","createRef","update","current","onaudioprocess","int","inputBuffer","getChannelData","out","outputBuffer","i","Math","abs","requestAnimationFrame","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_emotion_core__WEBPACK_IMPORTED_MODULE_6__","src","face","top","transition","zIndex","mouth","module","exports","p","KeyboardNameInput","_home_runner_work_soundmachine_soundmachine_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setName","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","placeholder","onChange","target","disabled","Worker","__webpack_public_path__","Boolean","hostname","ReactDOM","render","react_default","pages","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e1cf7916.chunk.js","sourcesContent":["const audioContext = new AudioContext();\nconst analyser = audioContext.createScriptProcessor(4096, 1, 1);\nanalyser.connect(audioContext.destination);\n\nconst state = {\n  audioContext,\n  analyser,\n  sourceNode: null,\n  mediaRecorder: null,\n  recording: null,\n  chunks: [],\n  pressedKeys: {},\n  lastRecordingURL: null,\n  lastRecordingBlob: null,\n  sharingFocused: false,\n  mouthPosition: 0\n};\n\nexport default state;\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport React from \"react\";\n\nexport const Key = ({ leftMargin, selected, hasRecording, isRecording, ...props }) => (\n  <div\n    css={{\n      width: 70,\n      height: 70,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      background: selected && isRecording\n      ? \"#E24E4E\"\n      : hasRecording\n      ? \"#0078F0\"\n      : \"#2D2D2D\",\n      boxShadow: hasRecording ? \"0px 12px 20px rgba(0, 120, 240, 0.28)\" : \"0px 8px 20px rgba(22, 22, 22, 0.28)\",\n      boxSizing: \"border-box\",\n      borderRadius: 8,\n      color: \"#FFF\",\n      marginLeft: leftMargin ? 10 : 0,\n      position: \"relative\",\n      textTransform: \"uppercase\",\n    }}\n    {...props}\n  >\n    <span>{props.keycode}</span>\n  </div>\n);\n\nexport const Row = props => (\n  <div\n    css={{\n      display: \"flex\"\n    }}\n    {...props}\n  >\n    {props.children}\n  </div>\n);\n","import Dexie from \"dexie\";\n\nconst db = new Dexie(\"Button\");\n\ndb.version(1).stores({\n  keys: \"key\"\n});\n\ndb.version(2).stores({\n  keys: \"key\",\n  keyboards: \"hash\"\n});\n\nexport default db;\n","import MyWorker from \"./test.worker\";\n\nlet workerReady = false;\nconst worker = new MyWorker();\n\nworker.addEventListener(\n  \"message\",\n  ({ data }) => {\n    if (data.message === \"ready\") workerReady = true;\n  },\n  {\n    once: true\n  }\n);\n\nexport const share = async () => {\n  if (!workerReady) {\n    await new Promise(resolve => {\n      const check = () => {\n        if (workerReady) resolve();\n        else setTimeout(check, 200);\n      };\n\n      setTimeout(check, 200);\n    });\n  }\n\n  console.log(\"starting share\");\n\n  worker.postMessage({ message: \"share\" });\n\n  return new Promise((resolve, reject) => {\n    worker.addEventListener(\n      \"message\",\n      ({ data }) => {\n        if (data.message === \"share\") resolve(data.hash);\n        else reject(\"invalid message received\");\n      },\n      {\n        once: true\n      }\n    );\n  });\n};\n\nexport const download = async hash => {\n  if (!workerReady) {\n    await new Promise(resolve => {\n      const check = () => {\n        if (workerReady) resolve();\n        else setTimeout(check, 200);\n      };\n\n      setTimeout(check, 200);\n    });\n  }\n\n  console.log(\"starting download\");\n\n  worker.postMessage({ message: \"download\", hash });\n\n  return new Promise((resolve, reject) => {\n    worker.addEventListener(\n      \"message\",\n      ({ data }) => {\n        console.log(\"cko asiasdfksadf\");\n        if (data.message === \"download\") {\n          resolve();\n        } else reject(\"invalid message received\");\n      },\n      {\n        once: true\n      }\n    );\n  });\n};\n","/** @jsx jsx */\n\nimport _ from \"lodash\";\nimport React, { useState, useEffect } from \"react\";\nimport { Global, css, jsx } from \"@emotion/core\";\nimport Popup from \"reactjs-popup\";\n\nimport { Key, Row } from \"../components/Keys\";\nimport { Jorge } from \"../components/Jorge\";\nimport { KeyboardNameInput } from \"../components/KeyboardNameInput\";\nimport globalState from \"../state\";\nimport db from \"../db\";\nimport { share, download } from \"../ipfs\";\n\nconst FIRST_ROW = [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"];\nconst SECOND_ROW = [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\"];\nconst THIRD_ROW = [\"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\"];\nconst ALL_KEYS = [...FIRST_ROW, ...SECOND_ROW, ...THIRD_ROW];\n\nconst hashInQueryParams = querystring(\"hash\")[0];\n\nwindow.navigator.mediaDevices\n  .getUserMedia({\n    audio: true\n  })\n  .then(stream => {\n    globalState.mediaRecorder = new MediaRecorder(stream);\n\n    globalState.mediaRecorder.ondataavailable = function(e) {\n      if (globalState.recording) {\n        globalState.chunks.push(e.data);\n      }\n    };\n\n    globalState.mediaRecorder.onstop = () => {\n      const blob = new Blob(globalState.chunks, {\n        type: \"audio/ogg; codecs=opus\"\n      });\n      globalState.chunks = [];\n      globalState.lastRecordingBlob = blob;\n      globalState.lastRecordingURL = window.URL.createObjectURL(blob);\n    };\n  })\n  .catch(err => console.error(err));\n\nfunction querystring(obj) {\n  const result = [];\n  let match;\n  const re = new RegExp(\"(?:\\\\?|&)\" + obj + \"=(.*?)(?=&|$)\", \"gi\");\n  while ((match = re.exec(document.location.search)) !== null) {\n    result.push(match[1]);\n  }\n  return result;\n}\n\nfunction Share() {\n  const [state, setState] = useState({ hash: null, name: null });\n\n  useEffect(() => {\n    if (state.name && state.hash) {\n      db.keyboards.put(state);\n    }\n  }, [state]);\n\n  return (\n    <Popup\n      trigger={\n        <button\n          css={{\n            backgroundColor: \"#2D2D2D\",\n            color: \"white\",\n            fontSize: 20,\n            padding: `10px 20px`,\n            marginRight: 40,\n            borderRadius: 4\n          }}\n        >\n          Save and Share\n        </button>\n      }\n      modal\n      position=\"right center\"\n      onOpen={() => {\n        globalState.sharingFocused = true;\n\n        share().then(async hash => {\n          await db.keyboards.put({ hash, name: \"my random name\" });\n          setState({ ...state, hash });\n        });\n      }}\n      onClose={() => {\n        globalState.sharingFocused = false;\n        setState({ hash: null, name: null });\n      }}\n      contentStyle={{ padding: 40, borderRadius: 4 }}\n    >\n      <>\n        {!state.name ? (\n          <KeyboardNameInput\n            onComplete={name => setState({ ...state, name })}\n          />\n        ) : !state.hash ? (\n          <div>loading...</div>\n        ) : (\n          <div>\n            Share this link:{\" \"}\n            <a\n              href={`${window.location}?hash=${state.hash}`}\n            >{`${window.location}?hash=${state.hash}`}</a>\n          </div>\n        )}\n      </>\n    </Popup>\n  );\n}\n\nfunction Download() {\n  const [loading, setLoading] = useState(false);\n\n  const handleDownload = async () => {\n    setLoading(true);\n    await download(hashInQueryParams);\n    window.location = window.location.origin;\n  };\n\n  return hashInQueryParams ? (\n    <Popup contentStyle={{ padding: 40 }} modal open>\n      {loading ? (\n        <div>loading...</div>\n      ) : (\n        <>\n          <div css={{ marginBottom: 20 }}>\n            Do you want to replace your existing keyboard with the new one?\n          </div>\n          <button onClick={handleDownload} css={{ marginRight: 20 }}>\n            Yes!\n          </button>\n          <button\n            onClick={() => {\n              window.location = window.location.origin;\n            }}\n          >\n            No\n          </button>\n        </>\n      )}\n    </Popup>\n  ) : null;\n}\n\nfunction Keyboards() {\n  const [keyboards, setKeyboards] = useState([]);\n\n  const load = async () => {\n    const keyboards = await db.keyboards.toArray();\n    setKeyboards(keyboards);\n  };\n\n  return (\n    <Popup\n      trigger={\n        <button\n          css={{\n            backgroundColor: \"#2D2D2D\",\n            color: \"white\",\n            fontSize: 20,\n            padding: `10px 20px`,\n            marginRight: 40,\n            borderRadius: 4\n          }}\n        >\n          Your keyboards\n        </button>\n      }\n      onOpen={load}\n      contentStyle={{ padding: 40 }}\n      modal\n    >\n      <div>\n        {keyboards.length > 0 ? (\n          <>\n            <h4>Your keyboards:</h4>\n            <ul>\n              {keyboards.map(({ hash, name }) => (\n                <li key={hash}>\n                  <a href={`${window.location}?hash=${hash}`}>{name}</a>\n                </li>\n              ))}\n            </ul>\n          </>\n        ) : null}\n      </div>\n    </Popup>\n  );\n}\n\nclass Player extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      pressedKeys: {},\n      recording: false,\n      recordings: {},\n      loading: true\n    };\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"keydown\", this.downHandler);\n    window.addEventListener(\"keyup\", this.upHandler);\n\n    try {\n      const keys = await db.keys.toArray();\n\n      this.setState({\n        recordings: keys.reduce((memo, key) => {\n          memo[key.key] = window.URL.createObjectURL(key.blob);\n          return memo;\n        }, {})\n      });\n    } catch (e) {\n      console.error(e);\n    }\n\n    this.setState({ loading: false });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.downHandler);\n    window.removeEventListener(\"keyup\", this.upHandler);\n  }\n\n  downHandler = ({ key }) => {\n    if (globalState.sharingFocused) return;\n\n    const lowerKey = _.toLower(key);\n    if (!_.includes(ALL_KEYS, lowerKey)) return;\n    if (globalState.pressedKeys[lowerKey]) return;\n\n    const anyPressed = _.reduce(\n      globalState.pressedKeys,\n      (memo, value, tKey) => memo || (value && lowerKey !== tKey),\n      false\n    );\n\n    if (anyPressed) return;\n\n    globalState.pressedKeys[lowerKey] = true;\n\n    this.setState({\n      ...this.state,\n      recording: { ...this.state.recording },\n      pressedKeys: { ...this.state.pressedKeys, [lowerKey]: true }\n    });\n\n    if (lowerKey === key) {\n      this.playClip(key);\n    } else {\n      if (globalState.recording) return;\n      console.log(\"recording\");\n      globalState.mediaRecorder.start();\n      globalState.recording = true;\n    }\n  };\n\n  upHandler = ({ key }) => {\n    if (globalState.sharingFocused) return;\n\n    const lowerKey = _.toLower(key);\n    if (!_.includes(ALL_KEYS, lowerKey)) return;\n    if (!globalState.pressedKeys[lowerKey]) return;\n\n    globalState.pressedKeys[lowerKey] = false;\n\n    this.setState({\n      ...this.state,\n      recording: { ...this.state.recording },\n      pressedKeys: { ...this.state.pressedKeys, [lowerKey]: false }\n    });\n\n    if (!globalState.recording) return;\n\n    console.log(\"saving recording\");\n    try {\n      globalState.mediaRecorder.stop();\n    } catch (e) {\n      console.warn(e);\n    }\n    setImmediate(() => {\n      this.saveClip(lowerKey);\n      globalState.recording = false;\n    });\n  };\n\n  loadSound = url => {\n    return new Promise(resolve => {\n      var request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n      request.responseType = \"arraybuffer\";\n\n      request.onload = function() {\n        resolve(request.response);\n      };\n\n      request.send();\n    });\n  };\n\n  saveClip = async key => {\n    if (!globalState.lastRecordingURL)\n      return setImmediate(() => this.saveClip(key));\n\n    this.setState({\n      recordings: {\n        ...this.state.recordings,\n        [key]: globalState.lastRecordingURL\n      }\n    });\n\n    globalState.lastRecordingURL = null;\n\n    await db.keys.put({\n      key,\n      blob: globalState.lastRecordingBlob\n    });\n  };\n\n  playClip = async key => {\n    const url = this.state.recordings[key];\n\n    if (!url) return;\n\n    try {\n      if (globalState.sourceNode) {\n        globalState.sourceNode.stop();\n        globalState.sourceNode.disconnect(globalState.analyser);\n      }\n    } catch (e) {\n      console.warn(e);\n    }\n\n    globalState.sourceNode = globalState.audioContext.createBufferSource();\n    globalState.sourceNode.connect(globalState.analyser);\n\n    const response = await this.loadSound(url);\n\n    globalState.audioContext.decodeAudioData(\n      response,\n      buffer => {\n        globalState.sourceNode.buffer = buffer;\n        globalState.sourceNode.loop = false;\n        globalState.sourceNode.start(0);\n      },\n      err => console.error(err)\n    );\n  };\n\n  render() {\n    if (this.state.loading) return null;\n\n    return this.props.children(this.state);\n  }\n}\n\nexport default () => {\n  return (\n    <Player>\n      {({ pressedKeys, recording, recordings }) => (\n        <div>\n          <Global\n            styles={css`\n              html,\n              body {\n                background-color: white;\n                color: #1b1b1b;\n                font-size: 18;\n                line-height: 1;\n                font-family: Arial;\n              }\n\n              body {\n                padding: 40px;\n              }\n            `}\n          />\n          <Download />\n          <h1>Push to Talk</h1>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <div\n              css={{\n                padding: 40,\n                display: \"flex\",\n                justifyContent: \"flex-start\",\n                alignItems: \"flex-start\",\n                flexDirection: \"column\"\n              }}\n            >\n              <Row>\n                {FIRST_ROW.map((key, index) => (\n                  <Key\n                    selected={pressedKeys[key]}\n                    hasRecording={!!recordings[key]}\n                    isRecording={recording}\n                    key={key}\n                    leftMargin={index !== 0}\n                    keycode={key}\n                  />\n                ))}\n              </Row>\n              <Row css={{ marginLeft: 20, marginTop: 10 }}>\n                {SECOND_ROW.map((key, index) => (\n                  <Key\n                    selected={pressedKeys[key]}\n                    hasRecording={!!recordings[key]}\n                    isRecording={recording}\n                    key={key}\n                    leftMargin={index !== 0}\n                    keycode={key}\n                  />\n                ))}\n              </Row>\n              <Row\n                css={{ marginLeft: 50, marginTop: 10, position: \"relative\" }}\n              >\n                {THIRD_ROW.map((key, index) => (\n                  <Key\n                    selected={pressedKeys[key]}\n                    key={key}\n                    hasRecording={!!recordings[key]}\n                    isRecording={recording}\n                    leftMargin={index !== 0}\n                    keycode={key}\n                  />\n                ))}\n                <Key\n                  css={{\n                    width: 100,\n                    position: \"absolute\",\n                    left: \"0\",\n                    transform: \"translateX(calc(-100% - 10px))\"\n                  }}\n                  selected={false}\n                  hasRecording={false}\n                  isRecording={false}\n                  keycode=\"Shift\"\n                />\n              </Row>\n            </div>\n          </div>\n          <Jorge />\n          <Share />\n          <Keyboards />\n        </div>\n      )}\n    </Player>\n  );\n};\n","/** @jsx jsx */\nimport React from \"react\";\nimport { jsx } from \"@emotion/core\";\n\nimport globalState from \"../state\";\n\nimport face from \"./face.png\";\nimport mouth from \"./mouth.png\";\n\nexport class Jorge extends React.Component {\n  constructor() {\n    super();\n    this.ref = React.createRef();\n\n    const update = () => {\n      if (this.ref.current)\n        this.ref.current.style.transform = `translate(-50%, calc(-50% + ${globalState.mouthPosition}px))`;\n    };\n\n    globalState.analyser.onaudioprocess = e => {\n      var int = e.inputBuffer.getChannelData(0);\n      var out = e.outputBuffer.getChannelData(0);\n\n      for (var i = 0; i < int.length; i++) {\n        out[i] = int[i];\n\n        if (int[i] !== 0) {\n          globalState.mouthPosition = Math.abs(int[i]) * 100;\n          window.requestAnimationFrame(update);\n        }\n      }\n    };\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return (\n      <div css={{ position: \"relative\", width: 300 }}>\n        <img\n          css={{\n            width: \"100%\"\n          }}\n          src={face}\n        />\n        <img\n          ref={this.ref}\n          css={{\n            position: \"absolute\",\n            width: \"100%\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: `translate(-50%, calc(-50% + ${globalState.mouthPosition}px))`,\n            transition: \"all linear 0.3s\",\n            zIndex: 9\n          }}\n          src={mouth}\n        />\n      </div>\n    );\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/face.f302813b.png\";","module.exports = __webpack_public_path__ + \"static/media/mouth.9227568e.png\";","import React, { useState } from \"react\";\n\nexport function KeyboardNameInput(props) {\n  const [name, setName] = useState(\"\");\n\n  return (\n    <>\n      <input\n        placeholder=\"Your keyboard's name\"\n        value={name}\n        onChange={e => setName(e.target.value)}\n      />\n      <button disabled={!name} onClick={() => props.onComplete(name)}>\n        Share keyboard\n      </button>\n    </>\n  );\n}\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"08b1b4c3af9fd96811d2.worker.js\");\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./pages\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}